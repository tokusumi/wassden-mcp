{
  "error": {
    "requirements_not_found": "❌ エラー: Requirements file not found: {path}\n\nまず requirements.md を作成してください。"
  },
  "prompt": {
    "intro": "以下のrequirements.mdに基づいて、design.mdファイルを作成してください：",
    "requirements_content": "## Requirements内容",
    "file_to_create": "## 作成するファイル\nファイル名: {design_path}",
    "required_structure": "## 必須構造\n以下の章立てに従って作成してください：",
    "sections": {
      "architecture": "### 1. アーキテクチャ概要\n- **コンテキスト/依存関係/制約**: システムの位置づけと制限事項\n- **全体図**: コンポーネント/データフロー/シーケンスの概要\n[Requirements: REQ-XX, REQ-YY, ...]",
      "components": "### 2. コンポーネント設計\n- **component-name**:\n  - **役割**: コンポーネントの責務\n  - **要件**: [REQ-XX, REQ-YY]\n  - **入出力**: インターフェース定義\n  - **例外・リトライ**: エラーハンドリング方針\n  - **可観測性**: ログ、メトリクス、トレース",
      "data": "### 3. データモデル\nデータ構造と関係性の定義",
      "api": "### 4. API/インターフェース\n- **tool_name**:\n  - **概要**: 機能説明\n  - **エンドポイント**: URL/パス\n  - **リクエスト/レスポンス**: 形式と例\n  - **エラー**: エラーコードと対処\n  - **モジュール境界**: 責任分界点",
      "non_functional": "### 5. 非機能・品質\n- **パフォーマンス**: Details [NFR-XX]\n- **セキュリティ**: Details [NFR-XX]\n- **可用性**: Details [NFR-XX]",
      "testing": "### 6. テスト戦略\n- **単体/結合/E2E の役割分担**: 各レベルでの検証内容\n- **test-scenario**: 重要なテストケース\n  - **テストデータ方針**: テストデータの準備方法\n  - **観測可能な合否基準**: 成功/失敗の判定基準",
      "traceability": "### 7. トレーサビリティ (必須)\n- REQ-XX ⇔ **component-name**\n- TR-XX ⇔ **test-scenario**",
      "flow": "### 8. フロー設計\n- **主要シーケンス**: 正常系の処理フロー\n- **状態遷移**: 状態管理とトランジション\n- **バックプレッシャー/キュー処理**: 負荷制御メカニズム",
      "edge_cases": "### 9. 障害・エッジケース\n- **フェイルパターン**: 想定される障害\n- **フォールバック**: 代替処理\n- **タイムアウト/リトライ方針**: 時間制限と再試行戦略",
      "security": "### 10. セキュリティ & コンプライアンス\n- **認証/認可**: アクセス制御方式\n- **データ保護**: 暗号化、マスキング\n- **監査ログ**: 記録対象と保持期間\n- **秘密管理**: シークレットの取り扱い",
      "risks": "### 11. リスクと対応 (Optional)\n- **Risk**: Description → Mitigation"
    },
    "instructions": "## 作成指示\n1. 各章で関連するREQ-IDを [REQ-XX] 形式で明記\n2. 技術的実装方針を具体的に記録\n3. 非機能要件（NFR）との対応を明確にする\n4. 文字数: 3000-6000文字程度\n5. すべての要件がdesignのどこかで言及されていること\n\nこのプロンプトに従って、トレーサビリティが確保された高品質なdesign.mdを作成してください。"
  }
}